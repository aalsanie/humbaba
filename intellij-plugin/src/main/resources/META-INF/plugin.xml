<idea-plugin>
    <id>io.github.aalsanie.formatter</id>
    <name>Humbaba</name>
    <vendor email="a.aalsanie@outlook.com" url="https://plugins.jetbrains.com">Humbaba Formatter</vendor>

    <description><![CDATA[
        Humbaba is a formatting orchestrator for polyglot repositories.
        It coordinates IntelliJâ€™s native formatter and trusted external
        formatters under a single, auditable workflow
    ]]></description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="io.github.aalsanie.platform.settings.FormatMasterSettingsService"/>
        <applicationService serviceImplementation="io.github.aalsanie.platform.IntellijConsentStore"/>
        <applicationConfigurable instance="io.github.aalsanie.platform.settings.FormatMasterConfigurable"/>
        <notificationGroup id="Humbaba Formatter" displayType="BALLOON" isLogByDefault="false"/>
        <toolWindow id="Humbaba Formatter"
                    factoryClass="io.github.aalsanie.platform.toolwindow.FormatMasterToolWindowFactory"
                    anchor="right"
                    icon="/icons/humbaba.svg"
                    canCloseContents="false"/>
    </extensions>

    <actions>
    <group id="HumbabaFormatter.ToolsGroup" text="Humbaba Formatter" popup="true">
        <add-to-group group-id="ToolsMenu" anchor="last"/>
        <action id="HumbabaFormatter.FormatAll"
                class="io.github.aalsanie.platform.action.FormatAllFilesAction"
                text="Humbaba: Format All Files"
                description="Format all eligible files in project content using native formatting or safe external formatters"
                icon="/icons/humbaba.svg"/>
    </group>


    <action id="HumbabaFormatter.FormatAll.Popup"
            class="io.github.aalsanie.platform.action.FormatAllFilesAction"
            text="Humbaba: Format All Files"
            description="Format all eligible files in project content using native formatting or safe external formatters"
            icon="/icons/humbaba.svg">
        <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
    </action>
</actions>


</idea-plugin>
